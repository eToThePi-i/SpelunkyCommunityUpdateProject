//
// scrRoomGenEntrance()
//
// Room generation for the entrance. Created for the Spelunky Community Update Project.
//

strTemp = "00000000000000000000000000000000000000000000000000000000000000000000000000000000";

roomPath = global.roomPath[scrGetRoomX(x), scrGetRoomY(y)];

if (global.levelType == 0 or global.levelType == 1 or global.yetiLair)
{
    if (roomPath == 2)
    {
        if (global.levelType == 0) n = rand(5,8);
        else n = rand(5,6);
    }
    else
    {
        if (global.levelType == 0) n = rand(1,4);
        else n = rand(1,2)
    }
    switch(n)
    {
        case 1: { strTemp = "60000600000000000000000000000000000000000008000000000000000000000000001111111111"; break; }
        case 2: { strTemp = "11111111112222222222000000000000000000000008000000000000000000000000001111111111"; break; }
        case 3: { strTemp = "00000000000008000000000000000000L000000000=111111000L111111000L00111111111111111"; break; }
        case 4: { strTemp = "0000000000008000000000000000000000000L000111111=000111111L001111100L001111111111"; break; }
        // hole
        case 5: { strTemp = "60000600000000000000000000000000000000000008000000000000000000000000002021111120"; break; }
        case 6: { strTemp = "11111111112222222222000000000000000000000008000000000000000000000000002021111120"; break; }
        case 7: { strTemp = "00000000000008000000000000000000L000000000=111111000L111111000L00011111111101111"; break; }
        case 8: { strTemp = "0000000000008000000000000000000000000L000111111=000111111L001111000L001111011111"; break; }
    }
}
else
{
    if (roomPath == 2)
    {
        if (global.levelType == 2) strTemp = "00000000000000000000000000000000000000000008000000000000000000000000000011111110";
        else strTemp = "00000000000000000000000000000000000000000008000000000000000000000000002000000002"; // hole
    }
    else strTemp = "00000000000000000000000000000000000000000008000000000000000000000000001111111111";
}

strTemp = scrGenerateObstacles(strTemp);

scrGenerateTiles(strTemp);